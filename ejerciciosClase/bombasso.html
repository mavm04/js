<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bombasso</title>
</head>

<body>
    <h1>Bombasso</h1>
    <h2>BOMBASSO</h2>
    <p> Se pide que crees un programa que genere un campo de minas.
        Las minas se colocan de forma aleatoria pero teniendo
        en cuenta que no se deben colocar dos minas juntas.
        realiza el programa para que genere 10, 20 o todas
        las minas que se puedan instalar.
    </p>
    <p id="demo"></p>

    <button id="diezMinas" onclick=diezMinas()>10 minas</button>
    <button id="veinteMinas" onclick=veinteMinas()>20 minas</button>
    <button id="maxNumMinas" onclick=maxNumMinas()>Número máximo de minas</button>
    <br>
    <p id="resultado"></p>

    <script>
        var minas = 0;
        var arr = [
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "],
            [" ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " ", " "]
        ];

        function diezMinas(){
            minas=0;
            while (minas<=10) {
                let valorFila = generateRandomInt(0,arr.length);
                let valorColumna= generateRandomInt(0,arr[valorFila].length);

                if (!(arr[valorFila][valorColumna-1]=="*") && !(arr[valorFila][valorColumna+1]=="*")) {
                    arr[valorFila][valorColumna]="*";
                    minas++;
                }
            }
            mostrar();
            quitarMinas();
        }

        function veinteMinas(){
            minas=0;
            while (minas<=20) {
                let valorFila = generateRandomInt(0,arr.length);
                let valorColumna= generateRandomInt(0,arr[valorFila].length);

                if ((arr[valorFila][valorColumna-1]!="*") && (arr[valorFila][valorColumna+1]!="*")) {
                    arr[valorFila][valorColumna]="*";
                    minas++;
                }
            }
            mostrar();
            quitarMinas();
        }

        function maxNumMinas(){
            //todavia en desarrollo
            mostrar();
        }

        function generateRandomInt(min, max) {
            return Math.floor((Math.random() * (max - min)) + min);
        }

        function mostrar() {
            var mostrar="";
            for(let fila of arr){
                mostrar += (fila + "<br/>");
            }
            document.getElementById("resultado").innerHTML = mostrar;
        }

        function quitarMinas(){
            for (let i = 0; i < arr.length; i++) {
                for (let j = 0; j < arr[i].length; j++) {
                    arr[i][j]=" ";
                }
            }
        }
    </script>
</body>
</html>